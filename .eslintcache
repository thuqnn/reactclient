[{"/Users/admin/Desktop/test-express/client/src/index.js":"1","/Users/admin/Desktop/test-express/client/src/App.js":"2","/Users/admin/Desktop/test-express/client/src/reportWebVitals.js":"3","/Users/admin/Desktop/test-express/client/src/components/Navbar/Header.js":"4","/Users/admin/Desktop/test-express/client/src/components/Screens/Login.js":"5","/Users/admin/Desktop/test-express/client/src/components/Screens/Register.js":"6","/Users/admin/Desktop/test-express/client/src/components/Screens/Home.js":"7","/Users/admin/Desktop/test-express/client/src/components/Screens/Profile.js":"8","/Users/admin/Desktop/test-express/client/src/components/Screens/CreatePost.js":"9","/Users/admin/Desktop/test-express/client/src/components/Screens/UserProfile.js":"10","/Users/admin/Desktop/test-express/client/src/reducer/UserReducer.js":"11","/Users/admin/Desktop/test-express/client/src/components/Screens/SubUserPost.js":"12"},{"size":478,"mtime":1607660027770,"results":"13","hashOfConfig":"14"},{"size":2184,"mtime":1609291934612,"results":"15","hashOfConfig":"14"},{"size":362,"mtime":1607579445647,"results":"16","hashOfConfig":"14"},{"size":2360,"mtime":1609314187376,"results":"17","hashOfConfig":"14"},{"size":2450,"mtime":1609316186379,"results":"18","hashOfConfig":"14"},{"size":2322,"mtime":1609318049269,"results":"19","hashOfConfig":"14"},{"size":5672,"mtime":1609319734577,"results":"20","hashOfConfig":"14"},{"size":1806,"mtime":1609314751987,"results":"21","hashOfConfig":"14"},{"size":2988,"mtime":1609298179644,"results":"22","hashOfConfig":"14"},{"size":4593,"mtime":1609312890312,"results":"23","hashOfConfig":"14"},{"size":479,"mtime":1608891119259,"results":"24","hashOfConfig":"14"},{"size":5587,"mtime":1609239508777,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"18xni0p",{"filePath":"29","messages":"30","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"28"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52","usedDeprecatedRules":"28"},"/Users/admin/Desktop/test-express/client/src/index.js",[],["53","54"],"/Users/admin/Desktop/test-express/client/src/App.js",["55","56"],"import \"./App.css\";\nimport React, {\n  useEffect,\n  createContext,\n  useReducer,\n  useContext,\n  useState,\n} from \"react\";\nimport { BrowserRouter, Route, Switch, useHistory } from \"react-router-dom\";\nimport Cookie from \"js-cookie\";\n\nimport { Header } from \"./components/Navbar/Header\";\nimport { Home } from \"./components/Screens/Home\";\nimport { Login } from \"./components/Screens/Login\";\nimport { Register } from \"./components/Screens/Register\";\nimport { Profile } from \"./components/Screens/Profile\";\nimport { CreatePost } from \"./components/Screens/CreatePost\";\nimport { UserProfile } from \"./components/Screens/UserProfile\";\nimport { SubUserPost } from \"./components/Screens/SubUserPost\";\n\nimport { reducer, initialState } from \"./reducer/UserReducer\";\n\nimport \"./lib/font-awesome/css/all.min.css\";\n\nexport const UserContext = createContext();\n\nconst Routing = () => {\n  const history = useHistory();\n  const { state, dispatch } = useContext(UserContext);\n  useEffect(() => {\n    if (state !== undefined) {\n      try {\n        const user = JSON.parse(Cookie.get(\"user\"));\n        if (user) {\n          dispatch({ type: \"USER\", payload: user });\n        }\n      } catch (errror) {\n        if (!history.location.pathname.startsWith(\"/reset\"))\n          history.push(\"/login\");\n      }\n    }\n    //const user = JSON.parse(localStorage.getItem(\"user\"));\n  }, []);\n  return (\n    <Switch>\n      <Route path=\"/\" exact>\n        <Home />\n      </Route>\n      <Route path=\"/login\">\n        <Login />\n      </Route>\n      <Route path=\"/register\">\n        <Register />\n      </Route>\n      <Route exact path=\"/profile\">\n        <Profile />\n      </Route>\n      <Route path=\"/create\">\n        <CreatePost />\n      </Route>\n      <Route exact path=\"/profile/:id\">\n        <UserProfile />\n      </Route>\n      <Route exact path=\"/myfollowingpost\">\n        <SubUserPost />\n      </Route>\n    </Switch>\n  );\n};\n\nfunction App() {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <UserContext.Provider value={{ state, dispatch }}>\n      <BrowserRouter>\n        <Header />\n        <Routing />\n      </BrowserRouter>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","/Users/admin/Desktop/test-express/client/src/reportWebVitals.js",[],"/Users/admin/Desktop/test-express/client/src/components/Navbar/Header.js",[],"/Users/admin/Desktop/test-express/client/src/components/Screens/Login.js",["57"],"/Users/admin/Desktop/test-express/client/src/components/Screens/Register.js",[],"/Users/admin/Desktop/test-express/client/src/components/Screens/Home.js",["58"],"/Users/admin/Desktop/test-express/client/src/components/Screens/Profile.js",["59"],"/Users/admin/Desktop/test-express/client/src/components/Screens/CreatePost.js",[],"/Users/admin/Desktop/test-express/client/src/components/Screens/UserProfile.js",[],"/Users/admin/Desktop/test-express/client/src/reducer/UserReducer.js",[],"/Users/admin/Desktop/test-express/client/src/components/Screens/SubUserPost.js",["60"],"import React, { useState, useEffect, useContext } from \"react\";\nimport { UserContext } from \"../../App\";\nimport Cookie from \"js-cookie\";\nimport { Link } from \"react-router-dom\";\n\nexport const SubUserPost = () => {\n  const [data, setData] = useState([]);\n  const { state, dispatch } = useContext(UserContext);\n  // console.log(state);\n\n  useEffect(() => {\n    fetch(\"/blog/getsubpost\", {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Thu Pham\" + Cookie.get(\"token\"),\n      },\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        // console.log(result);\n        setData(result);\n      });\n  }, []);\n  const likePost = (id) => {\n    fetch(\"/blog/like\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Thu Pham\" + Cookie.get(\"token\"),\n      },\n      body: JSON.stringify({\n        postId: id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        // console.log(result);\n        const newData = data.map((item) => {\n          if (item._id === result._id) {\n            return result;\n          } else {\n            return item;\n          }\n        });\n        setData(newData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const unlikePost = (id) => {\n    fetch(\"/blog/unlike\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Thu Pham\" + Cookie.get(\"token\"),\n      },\n      body: JSON.stringify({\n        postId: id,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        //   console.log(result)\n        const newData = data.map((item) => {\n          if (item._id === result._id) {\n            return result;\n          } else {\n            return item;\n          }\n        });\n        setData(newData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const makeComment = (text, postId) => {\n    fetch(\"/blog/comment\", {\n      method: \"put\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Thu Pham\" + Cookie.get(\"token\"),\n      },\n      body: JSON.stringify({\n        postId,\n        text,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        const newData = data.map((item) => {\n          if (item._id === result._id) {\n            return result;\n          } else {\n            return item;\n          }\n        });\n        setData(newData);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const deletePost = (postid) => {\n    fetch(`/blog/deletepost/${postid}`, {\n      method: \"delete\",\n      headers: {\n        Authorization: \"Thu Pham\" + Cookie.get(\"token\"),\n      },\n      body: JSON.stringify({\n        postId: postid,\n      }),\n    })\n      .then((res) => res.json())\n      .then((result) => {\n        //console.log(result);\n        const newData = data.filter((item) => {\n          return item._id !== result._id;\n        });\n        setData(newData);\n      });\n  };\n  return (\n    <div className=\"home container\">\n      <div className=\"row\">\n        {data.map((item) => {\n          // console.log(item);\n          return (\n            <div className=\"card\" key={item._id}>\n              <h5 style={{ padding: \"5px\" }}>\n                <Link\n                  to={\n                    item.postedBy._id !== state.id\n                      ? \"/profile/\" + item.postedBy._id\n                      : \"/profile\"\n                  }\n                >\n                  {item.postedBy.name}\n                </Link>\n\n                {item.postedBy._id === state.id && (\n                  <i\n                    className=\"fa fa-trash\"\n                    aria-hidden=\"true\"\n                    style={{ float: \"right\" }}\n                    onClick={() => deletePost(item._id)}\n                  ></i>\n                )}\n              </h5>\n              <img className=\"card-img-top\" src={item.image} alt={item.title} />\n              <div className=\"card-body\">\n                <i className=\"fa fa-heart\" style={{ color: \"red\" }}></i>\n                {item.likes.includes(state.id) ? (\n                  <i\n                    className=\"fa fa-thumbs-down\"\n                    aria-hidden=\"true\"\n                    onClick={() => unlikePost(item._id)}\n                  ></i>\n                ) : (\n                  <i\n                    className=\"fa fa-thumbs-up\"\n                    aria-hidden=\"true\"\n                    onClick={() => likePost(item._id)}\n                  ></i>\n                )}\n\n                <h6>{item.likes.length} Likes</h6>\n                <h6 className=\"card-title\">{item.title}</h6>\n                <p className=\"card-text\">{item.description}</p>\n                {item.comments.map((record) => {\n                  return (\n                    <h6 key={record._id}>\n                      <span style={{ fontWeight: \"500\" }}>\n                        {record.postedBy.name}\n                      </span>\n                      &nbsp;{record.text}\n                    </h6>\n                  );\n                })}\n                <form\n                  onSubmit={(e) => {\n                    e.preventDefault();\n                    makeComment(e.target[0].value, item._id);\n                    e.target.reset();\n                  }}\n                >\n                  <input type=\"text\" placeholder=\"add a comment\" />\n                </form>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n",{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","severity":1,"message":"66","line":7,"column":3,"nodeType":"67","messageId":"68","endLine":7,"endColumn":11},{"ruleId":"69","severity":1,"message":"70","line":43,"column":6,"nodeType":"71","endLine":43,"endColumn":8,"suggestions":"72"},{"ruleId":"65","severity":1,"message":"73","line":8,"column":11,"nodeType":"67","messageId":"68","endLine":8,"endColumn":16},{"ruleId":"65","severity":1,"message":"74","line":8,"column":18,"nodeType":"67","messageId":"68","endLine":8,"endColumn":26},{"ruleId":"65","severity":1,"message":"74","line":8,"column":18,"nodeType":"67","messageId":"68","endLine":8,"endColumn":26},{"ruleId":"65","severity":1,"message":"74","line":8,"column":18,"nodeType":"67","messageId":"68","endLine":8,"endColumn":26},"no-native-reassign",["75"],"no-negated-in-lhs",["76"],"no-unused-vars","'useState' is defined but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch', 'history', and 'state'. Either include them or remove the dependency array.","ArrayExpression",["77"],"'state' is assigned a value but never used.","'dispatch' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"78","fix":"79"},"Update the dependencies array to be: [dispatch, history, state]",{"range":"80","text":"81"},[1357,1359],"[dispatch, history, state]"]